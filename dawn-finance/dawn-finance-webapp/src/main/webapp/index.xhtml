<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<title>SLAG Fincance</title>
</h:head>
<h:body>
	<h:form>
		<c:set var="pc" value="#{cis.get('loginController')}" />

		<h:outputText value="SLAG Invest" style="font-size:300%" />

		<c:if test="#{!pc.contextAvailable}">
			<p:fieldset style="margin-bottom:6px;;margin-top:48px;width:100%">
				<h:outputText
					value="No context available. Set as vm argument: '-DDawnContext=/path/to/context.txt'" />
			</p:fieldset>
		</c:if>

		<c:if test="#{pc.contextAvailable}">
			<p:fieldset style="margin-bottom:6px;;margin-top:48px;width:10%">

				<div style="margin-bottom: 6px">
					<div>
						<p:inputText value="#{pc.username}"
							readonly="#{!pc.contextAvailable}" />
					</div>
					<div>
						<h:outputText value="username" />
					</div>
				</div>
				<div style="margin-bottom: 6px">
					<div>
						<p:password value="#{pc.password}"
							readonly="#{!pc.contextAvailable}" />
					</div>
					<div>
						<h:outputText value="password" />
					</div>
				</div>
				<p:commandButton value="LOGIN" id="btn_login" action="#{pc.login}"
					readonly="#{!pc.contextAvailable}" ajax="false" />
			</p:fieldset>
			<div>
				<h:outputText value="#{pc.msg}" />
			</div>

			<div style="margin-top: 6px">
				<h:link value="DB-Tool" outcome="dbtool"
					readonly="#{!pc.contextAvailable}"
					rendered="#{pc.contextAvailable}" />
				<h:outputText value="DB-Tool" rendered="#{!pc.contextAvailable}" />
			</div>
		</c:if>
	</h:form>
</h:body>
</html>